# AWSTATS CONFIGURE FILE 6.8
#-----------------------------------------------------------------------------
#
# This file is included by the other (autogenerated) config files in this
# directory. It defines common options. Default options are left out here.

#-----------------------------------------------------------------------------
# MAIN SETUP SECTION
#-----------------------------------------------------------------------------

# We use the "combined" log format, but with the second field replaced
# with the virtual host requested. Nginx adds additional timing fields,
# but it seems those are ignored.
LogFormat="%host %virtualname %logname %time1 %methodurl %code %bytesd %refererquot %uaquot"

# Enable DNS lookups
DNSLookup=1

# Store data in /var
DirData="/var/lib/awstats"

# Point awstats to its icons
DirIcons="/stats/icon"

# Use xhtml
BuildReportFormat=xhtml

# Don't use frames, somehowe interframe links are broken in Firefox (3.5)
UseFramesWhenCGI=0

# Debian stores language files here
DirLang="/usr/share/awstats/lang"

# Keep query parameters in referrer urls (ensuring you can actually find the
# actual page linking to you, at the expense of not always properly
# aggregrating a single referrer, when urls are slightly different).
URLReferrerWithQuery=1

# This duplicates configuration from nginx, but it seems awstats doesn't
# pick up SCRIPT_NAME for this...
WrapperScript="/stats"

# Increase the number allowed non-matching lines, to better cope with
# vulnerability scanners sending binary junk instead of a proper HTTP
# method name
NbOfLinesForCorruptedLog=250

#-----------------------------------------------------------------------------
# PLUGINS
#-----------------------------------------------------------------------------

# Plugin: DecodeUTFKeys
# Perl modules required: Encode and URI::Escape
# Allow AWStats to show correctly (in language charset) keywords/keyphrases
# strings even if they were UTF8 coded by the referer search engine.
#
LoadPlugin="decodeutfkeys"

# Plugin: IPv6
# Perl modules required: Net::IP and Net::DNS
# This plugin gives AWStats capability to make reverse DNS lookup on IPv6
# addresses.
# Note: If you are interested in having country report, you should use the
# geoip or geoipfree plugin instead of enabled reverse DNS lookup.
#
#LoadPlugin="ipv6"

# Plugin: HashFiles
# Perl modules required: Storable
# AWStats DNS cache files are read/saved as native hash files. This increases
# DNS cache files loading speed, above all for very large web sites.
#
LoadPlugin="hashfiles"
